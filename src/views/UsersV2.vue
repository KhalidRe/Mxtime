<template>
  <div id="UsersV2">
    <transition name="fade">
      <div
        style="transition-delay: 0.5s"
        class="profileview"
        v-if="showprofile"
      >
        <video autoplay muted loop webkit-playsinline="true" playsinline="true">
          <source src="@/assets/energy.webm" type="video/mp4" />
        </video>

        <div class="metrics">
          <div class="close" @click="showprofile = !showprofile">
            <img width="40vw" src="@/assets/closebtn.png" alt="" />
          </div>
          <div class="infocapsule">
            <div class="gotit">
              <img
                class="imgin"
                :src="`https://mxtime.se/mxprofile/${this.eprofile}.jpg`"
                alt=""
              />
              <h1>{{ this.ename }}</h1>
            </div>
            <div class="stats">
              <div class="fe">
                <div class="n">
                  <div>{{ this.eactive }}</div>
                </div>
                <div class="d">Active</div>
              </div>

              <div class="fe">
                <div class="n">
                  <div>{{ this.ecreated }}</div>
                </div>
                <div class="d">Created</div>
              </div>

              <div class="fe">
                <div class="n">
                  <div>{{ this.ecompleted }}</div>
                </div>
                <div class="d">Success</div>
              </div>
            </div>
            <div class="chart">
              <Linechart id="chart" :to-chart="filteredArray" />
            </div>
          </div>
        </div>
      </div>
    </transition>
    <div>
      <div class="usnc">
        <div class="headercaps">
          <h2>Users</h2>
          <span>{{ loggedin.Used }}/{{ loggedin.Size }}</span>
        </div>

        <div class="adminopt">
          <div
            class="createuserbtn"
            v-if="loggedin.Status == 'Admin'"
            @click="createtag = !createtag"
          >
            Skapa Roller
          </div>

          <div
            class="createuserbtn"
            v-if="loggedin.Status == 'Admin' && loggedin.Used < loggedin.Size"
            @click="createuser = !createuser"
          >
            Skapa Användare
          </div>
          <div
            class="createuserbtn faker"
            title="Du har inga fler platser"
            v-if="loggedin.Status == 'Admin' && loggedin.Used == loggedin.Size"
          >
            Skapa Användare
          </div>
        </div>
      </div>
      <table cellpadding="0" cellspacing="0" border="0">
        <thead>
          <tr class="trhead">
            <th>Profile</th>
            <th>Stats <span>?</span></th>
            <th>Chart</th>
          </tr>
        </thead>
      </table>
    </div>
    <div class="tbl-content">
      <div class="shadow"></div>
      <table cellpadding="0" cellspacing="0" border="0">
        <tbody class="tablebod">
          <tr class="row" v-for="users in user" :key="users.id">
            <td class="firsttd">
              <img
                class="img"
                :src="`https://mxtime.se/mxprofile/${users.Profile}.jpg`"
                alt=""
              />{{ users.Name }}
            </td>
            <td>
              {{ users.Active }}/{{ users.Created }}/{{ users.Completion }}
            </td>
            <td>
              <button
                class="readmorebtn"
                @click="View(users.id), (showprofile = !showprofile)"
              >
                View
              </button>
            </td>
            <!--
<td>
              <svg
                class="kogwheel"
                width="50"
                height="50"
                viewBox="0 0 1432 1432"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clip-path="url(#clip0_1273_166)">
                  <path
                    d="M961.647 968.196L961.748 968.395C975.441 955.003 988.081 940.341 999.394 924.952C1009.52 911.174 1018.66 896.546 1026.68 881.589C1018.72 896.466 1009.68 910.793 999.669 924.409C988.178 940.04 975.398 954.723 961.647 968.196ZM450.706 379.602C450.54 378.983 450.455 378.424 450.348 377.725C450.498 378.704 450.647 379.682 450.877 380.72L470.541 464.556L470.6 464.475L450.706 379.602ZM1010.99 523.403L1011.07 523.462L1048.22 446.763C1048.65 445.838 1049.02 444.995 1049.31 444.092C1049.1 444.554 1048.9 445.156 1048.69 445.618L1010.99 523.403ZM730.799 995.708L771.38 993.519L826.663 1074.99C853.924 1066.61 880.017 1055.26 904.58 1040.93L882.243 945.195L911.312 916.795C922.27 906.11 932.498 894.391 941.679 881.903C950.86 869.414 958.993 856.156 965.923 842.509L984.319 806.511L1082.35 799.272C1088.57 771.571 1091.76 743.259 1091.63 714.739L997.368 686.28L987.351 646.895C979.704 616.947 967.313 588.724 950.586 563.023L928.358 528.934L971.39 440.178C950.53 420.871 927.556 403.982 902.905 389.832L830.91 457.544L791.904 446.617C762.544 438.438 732.071 435.15 701.426 436.823L660.786 439.093L605.197 357.021C577.936 365.403 551.844 376.753 527.28 391.089L549.907 487.777L520.977 516.155C510.137 526.679 500.108 538.296 491.046 550.623C482.043 562.87 473.969 576.048 467.077 589.475L448.622 625.553L349.586 632.802C343.371 660.503 340.182 688.814 340.316 717.334L435.234 745.907L445.192 785.373C452.737 815.122 464.967 843.226 481.533 868.809L503.4 902.881L460.25 991.798C481.075 1011.08 504.199 1028.08 528.735 1042.14L600.611 974.593L639.779 985.639C669.38 993.996 699.934 997.343 730.799 995.708ZM617.902 850.282C593.327 832.217 574.824 808.933 562.715 783.028C536.132 726.5 540.493 657.595 580.118 603.693C637.691 525.378 747.855 508.562 826.17 566.135C880.072 605.76 904.79 670.226 896.283 732.111C892.513 760.368 881.798 788.112 863.674 812.767C806.16 891.001 696.136 907.795 617.902 850.282ZM292.253 777.817C286.696 776.091 281.866 773.037 278.167 768.952C282.049 773.295 287.002 776.688 292.859 778.512L375.621 803.36C375.6 803.22 375.498 803.021 375.476 802.882L292.253 777.817ZM1116.06 868.732L1030.12 875.056C1030 875.217 1029.9 875.518 1029.78 875.679L1115.59 869.377C1124.92 868.667 1133.36 863.946 1138.83 856.674C1133.37 863.586 1125.12 868.065 1116.06 868.732Z"
                    fill="#9E9E9E"
                    fill-opacity="0.66"
                  />
                  <path
                    d="M977.735 1075.47C975.354 1079.55 972.108 1083.12 968.013 1085.82L965.748 1087.38C921.344 1117.26 871.925 1138.91 819.853 1151.28L817.159 1151.91C810.842 1153.42 804.215 1152.97 798.158 1150.62C792.102 1148.28 786.903 1144.14 783.252 1138.77L734.865 1067.33C696.28 1069.46 657.608 1065.19 620.419 1054.69L557.423 1113.87C552.68 1118.32 546.696 1121.23 540.264 1122.2C533.832 1123.17 527.257 1122.15 521.413 1119.3L518.942 1118.1C495.086 1106.43 472.323 1092.64 450.924 1076.91L451.166 1077.09C472.678 1092.9 495.612 1106.78 519.345 1118.4L521.816 1119.59C527.66 1122.45 534.234 1123.46 540.666 1122.49C547.098 1121.52 553.083 1118.62 557.826 1114.17L620.763 1055.06C657.985 1065.55 696.327 1069.78 735.069 1067.73L783.375 1139.11C787.026 1144.48 792.225 1148.62 798.282 1150.96C804.338 1153.31 810.965 1153.76 817.282 1152.25L819.977 1151.62C872.359 1139.12 921.296 1117.63 965.672 1087.82L967.937 1086.26C972.01 1083.42 975.375 1079.69 977.735 1075.47Z"
                    fill="black"
                    fill-opacity="0.15"
                  />
                  <path
                    d="M863.728 812.189C881.675 787.776 892.411 760.172 896.283 732.114C904.79 670.229 880.072 605.763 826.17 566.137C747.855 508.565 637.691 525.381 580.118 603.695C540.493 657.597 536.132 726.502 562.715 783.03C574.781 808.656 593.183 831.741 617.676 849.747C695.991 907.32 806.155 890.504 863.728 812.189ZM631.684 641.603C649.394 617.513 675.465 601.802 705.022 597.219C734.66 592.695 764.171 599.993 788.262 617.703C812.353 635.413 828.122 661.403 832.646 691.041C834.887 705.581 834.231 720.421 830.716 734.706C827.2 748.992 820.895 762.441 812.163 774.281C794.452 798.372 768.382 814.082 738.824 818.665C724.284 820.906 709.445 820.25 695.159 816.735C680.874 813.219 667.424 806.914 655.584 798.182C631.494 780.472 615.783 754.401 611.2 724.843C608.959 710.303 609.615 695.464 613.131 681.178C616.646 666.893 622.951 653.443 631.684 641.603Z"
                    fill="#8A8A8A"
                  />
                  <path
                    d="M521.413 1119.3C527.257 1122.16 533.832 1123.17 540.264 1122.2C546.696 1121.23 552.681 1118.33 557.423 1113.87L620.419 1054.69C657.608 1065.19 696.28 1069.46 734.866 1067.33L783.252 1138.77C786.903 1144.14 792.102 1148.28 798.159 1150.62C804.215 1152.97 810.842 1153.42 817.159 1151.91L819.853 1151.28C872.236 1138.78 921.312 1117.27 965.748 1087.38L968.013 1085.82C972.108 1083.12 975.354 1079.55 977.735 1075.47C981.689 1068.57 983.069 1060.28 981.251 1052.11L961.749 968.395L961.647 968.196C975.398 954.724 988.178 940.041 999.669 924.41C1009.68 910.794 1018.78 896.386 1026.68 881.59C1027.74 879.639 1028.72 877.63 1029.78 875.68C1029.9 875.518 1030 875.217 1030.12 875.056L1116.06 868.733C1125.12 868.066 1133.37 863.587 1138.83 856.674C1141.28 853.511 1143.22 849.852 1144.4 845.88L1145.22 843.253C1160.54 791.966 1166.46 738.331 1162.68 684.938L1162.48 682.18C1162.02 675.705 1159.61 669.521 1155.56 664.443C1151.52 659.366 1146.03 655.632 1139.82 653.735L1057.2 628.866C1047.6 591.276 1032.18 555.862 1011.07 523.463L1010.99 523.403L1048.69 445.619C1048.9 445.157 1049.18 444.614 1049.31 444.093C1051.73 438.366 1052.43 432.061 1051.33 425.943C1050.23 419.824 1047.38 414.157 1043.12 409.63L1041.24 407.628C1004.83 369.195 960.679 336.737 913.134 313.451L910.662 312.255C904.819 309.398 898.244 308.387 891.812 309.356C885.38 310.325 879.395 313.228 874.653 317.68L811.339 377.129C774.348 366.818 735.919 362.632 697.575 364.738L648.824 292.781C645.173 287.409 639.974 283.275 633.917 280.929C627.861 278.583 621.234 278.135 614.917 279.645L612.222 280.271C560.151 292.645 510.731 314.29 466.328 344.171L464.063 345.733C458.941 349.181 454.923 354.034 452.491 359.708C450.058 365.383 449.314 371.639 450.348 377.726C450.514 378.344 450.54 378.984 450.706 379.603L470.6 464.476L470.541 464.556C456.908 477.868 444.386 492.368 433.073 507.757C421.7 523.227 411.537 539.585 402.958 556.488L316.015 562.821C309.529 563.302 303.344 565.746 298.281 569.829C293.218 573.911 289.518 579.437 287.672 585.673L286.857 588.301C271.588 639.63 265.639 692.969 269.393 746.616L269.599 749.374C270.171 756.869 273.217 763.7 278.167 768.953C281.926 772.957 286.696 776.091 292.253 777.818L375.477 802.882C375.498 803.022 375.6 803.221 375.621 803.361C385.158 840.531 400.395 875.687 421.243 907.769L383.39 985.935C380.556 991.79 379.571 998.368 380.565 1004.8C381.559 1011.22 384.485 1017.2 388.955 1021.92L390.834 1023.93C409.079 1043.17 429.17 1060.92 450.683 1076.73L450.924 1076.91C472.356 1092.67 495.29 1106.55 518.942 1118.1L521.413 1119.3ZM528.735 1042.15C504.084 1028 481.11 1011.11 460.25 991.799L503.4 902.882L481.533 868.81C464.967 843.227 452.737 815.123 445.192 785.374L435.234 745.908L340.316 717.335C340.183 688.815 343.371 660.503 349.586 632.803L448.622 625.554L467.077 589.475C473.969 576.049 482.043 562.871 491.046 550.624C500.108 538.297 510.138 526.68 520.977 516.156L549.907 487.777L527.28 391.09C551.844 376.754 577.936 365.403 605.197 357.022L660.786 439.093L701.426 436.824C732.071 435.15 762.544 438.439 791.904 446.618L830.91 457.545L902.905 389.832C927.441 403.898 950.565 420.897 971.39 440.179L928.358 528.935L950.586 563.024C967.313 588.725 979.704 616.947 987.351 646.895L997.368 686.281L1091.63 714.74C1091.76 743.26 1088.57 771.572 1082.35 799.273L984.319 806.512L965.923 842.51C958.993 856.157 950.86 869.415 941.679 881.904C932.498 894.392 922.27 906.111 911.312 916.796L882.243 945.196L904.581 1040.93C880.004 1055.24 853.859 1066.67 826.663 1074.99L771.38 993.52L730.799 995.708C699.934 997.344 669.38 993.997 639.779 985.64L600.611 974.594L528.735 1042.15Z"
                    fill="#7C7C7C"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_1273_166">
                    <rect
                      width="1024"
                      height="1024"
                      fill="white"
                      transform="translate(606.74 0.210938) rotate(36.3212)"
                    />
                  </clipPath>
                </defs>
              </svg>
            </td>
            -->
          </tr>
        </tbody>
      </table>
    </div>

    <transition name="slide-fade">
      <div v-if="createuser" class="createusernoclick">
        <div class="createusercaps">
          <div class="createusertitle">Skapa användare</div>

          <div class="createuserinputs">
            <div>
              <div>Användarnamn</div>
              <input v-model="newusername" type="text" />
            </div>
            <div>
              <div>Display namn</div>
              <input name="newname" v-model="newname" type="text" />
            </div>
            <div>
              <div>Email</div>
              <input name="email" v-model="newemail" />
            </div>
            <div>
              <div>Lösenord</div>
              <input v-model="newpassword" type="text" />
            </div>
            <div>
              <div>Roll för Användare</div>
              <select v-model="newtype" name="" id="acctype">
                <option
                  :value="rolls.Usertags"
                  v-for="rolls in tags"
                  :key="rolls.index"
                >
                  {{ rolls.Usertags }}
                </option>
              </select>
            </div>
            <div class="confirmation">
              <div class="userconf" v-if="newusername.length > 5">
                <svg
                  width="15"
                  height="15"
                  viewBox="0 0 10 10"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M5.00011 0.554688C4.12108 0.554688 3.26179 0.81535 2.53091 1.30371C1.80002 1.79207 1.23037 2.4862 0.893979 3.29832C0.55759 4.11043 0.469575 5.00406 0.641065 5.8662C0.812555 6.72834 1.23585 7.52026 1.85741 8.14183C2.47898 8.7634 3.2709 9.18669 4.13304 9.35818C4.99518 9.52967 5.88881 9.44165 6.70093 9.10526C7.51304 8.76887 8.20717 8.19922 8.69553 7.46833C9.18389 6.73745 9.44456 5.87816 9.44456 4.99913C9.44456 3.82039 8.9763 2.68993 8.14281 1.85644C7.30931 1.02294 6.17885 0.554688 5.00011 0.554688V0.554688ZM7.90289 3.50747L4.25289 7.15469L2.09733 4.99913C2.02366 4.92546 1.98227 4.82554 1.98227 4.72135C1.98227 4.61717 2.02366 4.51725 2.09733 4.44358C2.171 4.36991 2.27092 4.32852 2.37511 4.32852C2.4793 4.32852 2.57922 4.36991 2.65289 4.44358L4.25844 6.04913L7.35289 2.95747C7.38937 2.92099 7.43267 2.89205 7.48033 2.87231C7.528 2.85257 7.57908 2.84241 7.63067 2.84241C7.68225 2.84241 7.73334 2.85257 7.781 2.87231C7.82866 2.89205 7.87197 2.92099 7.90844 2.95747C7.94492 2.99394 7.97386 3.03725 7.9936 3.08491C8.01334 3.13257 8.0235 3.18365 8.0235 3.23524C8.0235 3.28683 8.01334 3.33791 7.9936 3.38558C7.97386 3.43324 7.94492 3.47654 7.90844 3.51302L7.90289 3.50747Z"
                    fill="#5CAB2B"
                  />
                </svg>

                Username longer than 6 characters
              </div>
              <div class="userconf" v-if="newname.length > 0">
                <svg
                  width="15"
                  height="15"
                  viewBox="0 0 10 10"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M5.00011 0.554688C4.12108 0.554688 3.26179 0.81535 2.53091 1.30371C1.80002 1.79207 1.23037 2.4862 0.893979 3.29832C0.55759 4.11043 0.469575 5.00406 0.641065 5.8662C0.812555 6.72834 1.23585 7.52026 1.85741 8.14183C2.47898 8.7634 3.2709 9.18669 4.13304 9.35818C4.99518 9.52967 5.88881 9.44165 6.70093 9.10526C7.51304 8.76887 8.20717 8.19922 8.69553 7.46833C9.18389 6.73745 9.44456 5.87816 9.44456 4.99913C9.44456 3.82039 8.9763 2.68993 8.14281 1.85644C7.30931 1.02294 6.17885 0.554688 5.00011 0.554688V0.554688ZM7.90289 3.50747L4.25289 7.15469L2.09733 4.99913C2.02366 4.92546 1.98227 4.82554 1.98227 4.72135C1.98227 4.61717 2.02366 4.51725 2.09733 4.44358C2.171 4.36991 2.27092 4.32852 2.37511 4.32852C2.4793 4.32852 2.57922 4.36991 2.65289 4.44358L4.25844 6.04913L7.35289 2.95747C7.38937 2.92099 7.43267 2.89205 7.48033 2.87231C7.528 2.85257 7.57908 2.84241 7.63067 2.84241C7.68225 2.84241 7.73334 2.85257 7.781 2.87231C7.82866 2.89205 7.87197 2.92099 7.90844 2.95747C7.94492 2.99394 7.97386 3.03725 7.9936 3.08491C8.01334 3.13257 8.0235 3.18365 8.0235 3.23524C8.0235 3.28683 8.01334 3.33791 7.9936 3.38558C7.97386 3.43324 7.94492 3.47654 7.90844 3.51302L7.90289 3.50747Z"
                    fill="#5CAB2B"
                  />
                </svg>

                Input name
              </div>
              <div class="userconf" v-if="newemail.length > 5">
                <svg
                  width="15"
                  height="15"
                  viewBox="0 0 10 10"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M5.00011 0.554688C4.12108 0.554688 3.26179 0.81535 2.53091 1.30371C1.80002 1.79207 1.23037 2.4862 0.893979 3.29832C0.55759 4.11043 0.469575 5.00406 0.641065 5.8662C0.812555 6.72834 1.23585 7.52026 1.85741 8.14183C2.47898 8.7634 3.2709 9.18669 4.13304 9.35818C4.99518 9.52967 5.88881 9.44165 6.70093 9.10526C7.51304 8.76887 8.20717 8.19922 8.69553 7.46833C9.18389 6.73745 9.44456 5.87816 9.44456 4.99913C9.44456 3.82039 8.9763 2.68993 8.14281 1.85644C7.30931 1.02294 6.17885 0.554688 5.00011 0.554688V0.554688ZM7.90289 3.50747L4.25289 7.15469L2.09733 4.99913C2.02366 4.92546 1.98227 4.82554 1.98227 4.72135C1.98227 4.61717 2.02366 4.51725 2.09733 4.44358C2.171 4.36991 2.27092 4.32852 2.37511 4.32852C2.4793 4.32852 2.57922 4.36991 2.65289 4.44358L4.25844 6.04913L7.35289 2.95747C7.38937 2.92099 7.43267 2.89205 7.48033 2.87231C7.528 2.85257 7.57908 2.84241 7.63067 2.84241C7.68225 2.84241 7.73334 2.85257 7.781 2.87231C7.82866 2.89205 7.87197 2.92099 7.90844 2.95747C7.94492 2.99394 7.97386 3.03725 7.9936 3.08491C8.01334 3.13257 8.0235 3.18365 8.0235 3.23524C8.0235 3.28683 8.01334 3.33791 7.9936 3.38558C7.97386 3.43324 7.94492 3.47654 7.90844 3.51302L7.90289 3.50747Z"
                    fill="#5CAB2B"
                  />
                </svg>

                Input email
              </div>
              <div class="userconf" v-if="newpassword.length > 7">
                <svg
                  width="15"
                  height="15"
                  viewBox="0 0 10 10"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M5.00011 0.554688C4.12108 0.554688 3.26179 0.81535 2.53091 1.30371C1.80002 1.79207 1.23037 2.4862 0.893979 3.29832C0.55759 4.11043 0.469575 5.00406 0.641065 5.8662C0.812555 6.72834 1.23585 7.52026 1.85741 8.14183C2.47898 8.7634 3.2709 9.18669 4.13304 9.35818C4.99518 9.52967 5.88881 9.44165 6.70093 9.10526C7.51304 8.76887 8.20717 8.19922 8.69553 7.46833C9.18389 6.73745 9.44456 5.87816 9.44456 4.99913C9.44456 3.82039 8.9763 2.68993 8.14281 1.85644C7.30931 1.02294 6.17885 0.554688 5.00011 0.554688V0.554688ZM7.90289 3.50747L4.25289 7.15469L2.09733 4.99913C2.02366 4.92546 1.98227 4.82554 1.98227 4.72135C1.98227 4.61717 2.02366 4.51725 2.09733 4.44358C2.171 4.36991 2.27092 4.32852 2.37511 4.32852C2.4793 4.32852 2.57922 4.36991 2.65289 4.44358L4.25844 6.04913L7.35289 2.95747C7.38937 2.92099 7.43267 2.89205 7.48033 2.87231C7.528 2.85257 7.57908 2.84241 7.63067 2.84241C7.68225 2.84241 7.73334 2.85257 7.781 2.87231C7.82866 2.89205 7.87197 2.92099 7.90844 2.95747C7.94492 2.99394 7.97386 3.03725 7.9936 3.08491C8.01334 3.13257 8.0235 3.18365 8.0235 3.23524C8.0235 3.28683 8.01334 3.33791 7.9936 3.38558C7.97386 3.43324 7.94492 3.47654 7.90844 3.51302L7.90289 3.50747Z"
                    fill="#5CAB2B"
                  />
                </svg>
                password longer than 8 characters
              </div>
              <div class="userconf" v-if="newtype.length > 1">
                <svg
                  width="15"
                  height="15"
                  viewBox="0 0 10 10"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M5.00011 0.554688C4.12108 0.554688 3.26179 0.81535 2.53091 1.30371C1.80002 1.79207 1.23037 2.4862 0.893979 3.29832C0.55759 4.11043 0.469575 5.00406 0.641065 5.8662C0.812555 6.72834 1.23585 7.52026 1.85741 8.14183C2.47898 8.7634 3.2709 9.18669 4.13304 9.35818C4.99518 9.52967 5.88881 9.44165 6.70093 9.10526C7.51304 8.76887 8.20717 8.19922 8.69553 7.46833C9.18389 6.73745 9.44456 5.87816 9.44456 4.99913C9.44456 3.82039 8.9763 2.68993 8.14281 1.85644C7.30931 1.02294 6.17885 0.554688 5.00011 0.554688V0.554688ZM7.90289 3.50747L4.25289 7.15469L2.09733 4.99913C2.02366 4.92546 1.98227 4.82554 1.98227 4.72135C1.98227 4.61717 2.02366 4.51725 2.09733 4.44358C2.171 4.36991 2.27092 4.32852 2.37511 4.32852C2.4793 4.32852 2.57922 4.36991 2.65289 4.44358L4.25844 6.04913L7.35289 2.95747C7.38937 2.92099 7.43267 2.89205 7.48033 2.87231C7.528 2.85257 7.57908 2.84241 7.63067 2.84241C7.68225 2.84241 7.73334 2.85257 7.781 2.87231C7.82866 2.89205 7.87197 2.92099 7.90844 2.95747C7.94492 2.99394 7.97386 3.03725 7.9936 3.08491C8.01334 3.13257 8.0235 3.18365 8.0235 3.23524C8.0235 3.28683 8.01334 3.33791 7.9936 3.38558C7.97386 3.43324 7.94492 3.47654 7.90844 3.51302L7.90289 3.50747Z"
                    fill="#5CAB2B"
                  />
                </svg>
                User type chosen
              </div>
              <div class="userconf" v-if="newusername.length < 6">
                <svg
                  width="15"
                  height="15"
                  viewBox="0 0 10 10"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M5.00008 0.416016C2.46883 0.416016 0.416748 2.4681 0.416748 4.99935C0.416748 7.5306 2.46883 9.58268 5.00008 9.58268C7.53133 9.58268 9.58342 7.5306 9.58342 4.99935C9.58342 2.4681 7.53133 0.416016 5.00008 0.416016ZM6.54466 4.04393C6.62056 3.96535 6.66256 3.8601 6.66161 3.75085C6.66066 3.6416 6.61684 3.53709 6.53959 3.45984C6.46234 3.38259 6.35783 3.33877 6.24858 3.33782C6.13933 3.33687 6.03408 3.37887 5.9555 3.45477L5.00008 4.41018L4.04466 3.45477C4.00623 3.41497 3.96025 3.38323 3.90942 3.36139C3.85858 3.33955 3.80391 3.32806 3.74858 3.32758C3.69326 3.3271 3.63839 3.33764 3.58718 3.35859C3.53598 3.37954 3.48946 3.41048 3.45033 3.4496C3.41121 3.48872 3.38027 3.53524 3.35932 3.58645C3.33837 3.63766 3.32783 3.69252 3.32831 3.74785C3.32879 3.80317 3.34029 3.85785 3.36212 3.90868C3.38396 3.95952 3.4157 4.0055 3.4555 4.04393L4.41092 4.99935L3.4555 5.95477C3.4157 5.9932 3.38396 6.03918 3.36212 6.09001C3.34029 6.14085 3.32879 6.19552 3.32831 6.25085C3.32783 6.30617 3.33837 6.36104 3.35932 6.41225C3.38027 6.46345 3.41121 6.50998 3.45033 6.5491C3.48946 6.58822 3.53598 6.61916 3.58718 6.64011C3.63839 6.66106 3.69326 6.6716 3.74858 6.67112C3.80391 6.67064 3.85858 6.65915 3.90942 6.63731C3.96025 6.61547 4.00623 6.58373 4.04466 6.54393L5.00008 5.58852L5.9555 6.54393C6.03408 6.61983 6.13933 6.66183 6.24858 6.66088C6.35783 6.65993 6.46234 6.61611 6.53959 6.53886C6.61684 6.4616 6.66066 6.3571 6.66161 6.24785C6.66256 6.1386 6.62056 6.03335 6.54466 5.95477L5.58925 4.99935L6.54466 4.04393Z"
                    fill="#F06363"
                  />
                </svg>
                Username longer than 6 characters
              </div>
              <div class="userconf" v-if="newname.length < 1">
                <svg
                  width="15"
                  height="15"
                  viewBox="0 0 10 10"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M5.00008 0.416016C2.46883 0.416016 0.416748 2.4681 0.416748 4.99935C0.416748 7.5306 2.46883 9.58268 5.00008 9.58268C7.53133 9.58268 9.58342 7.5306 9.58342 4.99935C9.58342 2.4681 7.53133 0.416016 5.00008 0.416016ZM6.54466 4.04393C6.62056 3.96535 6.66256 3.8601 6.66161 3.75085C6.66066 3.6416 6.61684 3.53709 6.53959 3.45984C6.46234 3.38259 6.35783 3.33877 6.24858 3.33782C6.13933 3.33687 6.03408 3.37887 5.9555 3.45477L5.00008 4.41018L4.04466 3.45477C4.00623 3.41497 3.96025 3.38323 3.90942 3.36139C3.85858 3.33955 3.80391 3.32806 3.74858 3.32758C3.69326 3.3271 3.63839 3.33764 3.58718 3.35859C3.53598 3.37954 3.48946 3.41048 3.45033 3.4496C3.41121 3.48872 3.38027 3.53524 3.35932 3.58645C3.33837 3.63766 3.32783 3.69252 3.32831 3.74785C3.32879 3.80317 3.34029 3.85785 3.36212 3.90868C3.38396 3.95952 3.4157 4.0055 3.4555 4.04393L4.41092 4.99935L3.4555 5.95477C3.4157 5.9932 3.38396 6.03918 3.36212 6.09001C3.34029 6.14085 3.32879 6.19552 3.32831 6.25085C3.32783 6.30617 3.33837 6.36104 3.35932 6.41225C3.38027 6.46345 3.41121 6.50998 3.45033 6.5491C3.48946 6.58822 3.53598 6.61916 3.58718 6.64011C3.63839 6.66106 3.69326 6.6716 3.74858 6.67112C3.80391 6.67064 3.85858 6.65915 3.90942 6.63731C3.96025 6.61547 4.00623 6.58373 4.04466 6.54393L5.00008 5.58852L5.9555 6.54393C6.03408 6.61983 6.13933 6.66183 6.24858 6.66088C6.35783 6.65993 6.46234 6.61611 6.53959 6.53886C6.61684 6.4616 6.66066 6.3571 6.66161 6.24785C6.66256 6.1386 6.62056 6.03335 6.54466 5.95477L5.58925 4.99935L6.54466 4.04393Z"
                    fill="#F06363"
                  />
                </svg>
                Input name
              </div>
              <div class="userconf" v-if="newemail.length < 6">
                <svg
                  width="15"
                  height="15"
                  viewBox="0 0 10 10"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M5.00008 0.416016C2.46883 0.416016 0.416748 2.4681 0.416748 4.99935C0.416748 7.5306 2.46883 9.58268 5.00008 9.58268C7.53133 9.58268 9.58342 7.5306 9.58342 4.99935C9.58342 2.4681 7.53133 0.416016 5.00008 0.416016ZM6.54466 4.04393C6.62056 3.96535 6.66256 3.8601 6.66161 3.75085C6.66066 3.6416 6.61684 3.53709 6.53959 3.45984C6.46234 3.38259 6.35783 3.33877 6.24858 3.33782C6.13933 3.33687 6.03408 3.37887 5.9555 3.45477L5.00008 4.41018L4.04466 3.45477C4.00623 3.41497 3.96025 3.38323 3.90942 3.36139C3.85858 3.33955 3.80391 3.32806 3.74858 3.32758C3.69326 3.3271 3.63839 3.33764 3.58718 3.35859C3.53598 3.37954 3.48946 3.41048 3.45033 3.4496C3.41121 3.48872 3.38027 3.53524 3.35932 3.58645C3.33837 3.63766 3.32783 3.69252 3.32831 3.74785C3.32879 3.80317 3.34029 3.85785 3.36212 3.90868C3.38396 3.95952 3.4157 4.0055 3.4555 4.04393L4.41092 4.99935L3.4555 5.95477C3.4157 5.9932 3.38396 6.03918 3.36212 6.09001C3.34029 6.14085 3.32879 6.19552 3.32831 6.25085C3.32783 6.30617 3.33837 6.36104 3.35932 6.41225C3.38027 6.46345 3.41121 6.50998 3.45033 6.5491C3.48946 6.58822 3.53598 6.61916 3.58718 6.64011C3.63839 6.66106 3.69326 6.6716 3.74858 6.67112C3.80391 6.67064 3.85858 6.65915 3.90942 6.63731C3.96025 6.61547 4.00623 6.58373 4.04466 6.54393L5.00008 5.58852L5.9555 6.54393C6.03408 6.61983 6.13933 6.66183 6.24858 6.66088C6.35783 6.65993 6.46234 6.61611 6.53959 6.53886C6.61684 6.4616 6.66066 6.3571 6.66161 6.24785C6.66256 6.1386 6.62056 6.03335 6.54466 5.95477L5.58925 4.99935L6.54466 4.04393Z"
                    fill="#F06363"
                  />
                </svg>
                Input email
              </div>
              <div class="userconf" v-if="newpassword.length < 8">
                <svg
                  width="15"
                  height="15"
                  viewBox="0 0 10 10"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M5.00008 0.416016C2.46883 0.416016 0.416748 2.4681 0.416748 4.99935C0.416748 7.5306 2.46883 9.58268 5.00008 9.58268C7.53133 9.58268 9.58342 7.5306 9.58342 4.99935C9.58342 2.4681 7.53133 0.416016 5.00008 0.416016ZM6.54466 4.04393C6.62056 3.96535 6.66256 3.8601 6.66161 3.75085C6.66066 3.6416 6.61684 3.53709 6.53959 3.45984C6.46234 3.38259 6.35783 3.33877 6.24858 3.33782C6.13933 3.33687 6.03408 3.37887 5.9555 3.45477L5.00008 4.41018L4.04466 3.45477C4.00623 3.41497 3.96025 3.38323 3.90942 3.36139C3.85858 3.33955 3.80391 3.32806 3.74858 3.32758C3.69326 3.3271 3.63839 3.33764 3.58718 3.35859C3.53598 3.37954 3.48946 3.41048 3.45033 3.4496C3.41121 3.48872 3.38027 3.53524 3.35932 3.58645C3.33837 3.63766 3.32783 3.69252 3.32831 3.74785C3.32879 3.80317 3.34029 3.85785 3.36212 3.90868C3.38396 3.95952 3.4157 4.0055 3.4555 4.04393L4.41092 4.99935L3.4555 5.95477C3.4157 5.9932 3.38396 6.03918 3.36212 6.09001C3.34029 6.14085 3.32879 6.19552 3.32831 6.25085C3.32783 6.30617 3.33837 6.36104 3.35932 6.41225C3.38027 6.46345 3.41121 6.50998 3.45033 6.5491C3.48946 6.58822 3.53598 6.61916 3.58718 6.64011C3.63839 6.66106 3.69326 6.6716 3.74858 6.67112C3.80391 6.67064 3.85858 6.65915 3.90942 6.63731C3.96025 6.61547 4.00623 6.58373 4.04466 6.54393L5.00008 5.58852L5.9555 6.54393C6.03408 6.61983 6.13933 6.66183 6.24858 6.66088C6.35783 6.65993 6.46234 6.61611 6.53959 6.53886C6.61684 6.4616 6.66066 6.3571 6.66161 6.24785C6.66256 6.1386 6.62056 6.03335 6.54466 5.95477L5.58925 4.99935L6.54466 4.04393Z"
                    fill="#F06363"
                  />
                </svg>
                password longer than 8 characters
              </div>
              <div class="userconf" v-if="newtype.length < 1">
                <svg
                  width="15"
                  height="15"
                  viewBox="0 0 10 10"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M5.00008 0.416016C2.46883 0.416016 0.416748 2.4681 0.416748 4.99935C0.416748 7.5306 2.46883 9.58268 5.00008 9.58268C7.53133 9.58268 9.58342 7.5306 9.58342 4.99935C9.58342 2.4681 7.53133 0.416016 5.00008 0.416016ZM6.54466 4.04393C6.62056 3.96535 6.66256 3.8601 6.66161 3.75085C6.66066 3.6416 6.61684 3.53709 6.53959 3.45984C6.46234 3.38259 6.35783 3.33877 6.24858 3.33782C6.13933 3.33687 6.03408 3.37887 5.9555 3.45477L5.00008 4.41018L4.04466 3.45477C4.00623 3.41497 3.96025 3.38323 3.90942 3.36139C3.85858 3.33955 3.80391 3.32806 3.74858 3.32758C3.69326 3.3271 3.63839 3.33764 3.58718 3.35859C3.53598 3.37954 3.48946 3.41048 3.45033 3.4496C3.41121 3.48872 3.38027 3.53524 3.35932 3.58645C3.33837 3.63766 3.32783 3.69252 3.32831 3.74785C3.32879 3.80317 3.34029 3.85785 3.36212 3.90868C3.38396 3.95952 3.4157 4.0055 3.4555 4.04393L4.41092 4.99935L3.4555 5.95477C3.4157 5.9932 3.38396 6.03918 3.36212 6.09001C3.34029 6.14085 3.32879 6.19552 3.32831 6.25085C3.32783 6.30617 3.33837 6.36104 3.35932 6.41225C3.38027 6.46345 3.41121 6.50998 3.45033 6.5491C3.48946 6.58822 3.53598 6.61916 3.58718 6.64011C3.63839 6.66106 3.69326 6.6716 3.74858 6.67112C3.80391 6.67064 3.85858 6.65915 3.90942 6.63731C3.96025 6.61547 4.00623 6.58373 4.04466 6.54393L5.00008 5.58852L5.9555 6.54393C6.03408 6.61983 6.13933 6.66183 6.24858 6.66088C6.35783 6.65993 6.46234 6.61611 6.53959 6.53886C6.61684 6.4616 6.66066 6.3571 6.66161 6.24785C6.66256 6.1386 6.62056 6.03335 6.54466 5.95477L5.58925 4.99935L6.54466 4.04393Z"
                    fill="#F06363"
                  />
                </svg>
                User type chosen
              </div>
            </div>
            <div
              type="submit"
              v-if="
                newusername.length > 5 &&
                newpassword.length > 7 &&
                newtype.length > 1 &&
                newname.length > 1 &&
                newemail.length > 5
              "
              class="skapaanv"
              @click="createnewuser()"
            >
              Skapa
            </div>

            <div
              v-if="
                newusername.length < 6 ||
                newpassword.length < 8 ||
                newtype.length < 1 ||
                newemail.length < 5 ||
                newname.length < 1
              "
              class="skapaanvf"
            >
              Skapa
            </div>
            <div class="avbrtanv" @click="createuser = !createuser">Avbryt</div>
          </div>
        </div>
      </div>
    </transition>
    <!--TAG CREATION IS BELOW HERE-->
    <!--TAG CREATION IS BELOW HERE-->
    <!--TAG CREATION IS BELOW HERE-->
    <!--TAG CREATION IS BELOW HERE-->
    <transition name="slide-fade">
      <div v-if="createtag" class="createusernoclick">
        <div class="createusercaps">
          <div class="createusertitle">Lägg till roller</div>

          <div class="createuserinputs">
            <div class="tagsbox">
              <div
                class="tags"
                v-for="rolls in tags"
                :key="rolls.id"
                v-bind:style="{
                  backgroundColor: '#' + rolls.color,
                }"
              >
                <div class="tagtext">{{ rolls.Usertags }}</div>

                <div class="remove" @click="deletetag(rolls.Id)">x</div>
              </div>
            </div>

            <div>
              <div>Roll namn</div>
              <input v-model="tagname" maxlength="8" type="text" />
            </div>
            <div class="confirmation">
              <div class="userconf" v-if="tagname.length > 1">
                <svg
                  width="15"
                  height="15"
                  viewBox="0 0 10 10"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M5.00011 0.554688C4.12108 0.554688 3.26179 0.81535 2.53091 1.30371C1.80002 1.79207 1.23037 2.4862 0.893979 3.29832C0.55759 4.11043 0.469575 5.00406 0.641065 5.8662C0.812555 6.72834 1.23585 7.52026 1.85741 8.14183C2.47898 8.7634 3.2709 9.18669 4.13304 9.35818C4.99518 9.52967 5.88881 9.44165 6.70093 9.10526C7.51304 8.76887 8.20717 8.19922 8.69553 7.46833C9.18389 6.73745 9.44456 5.87816 9.44456 4.99913C9.44456 3.82039 8.9763 2.68993 8.14281 1.85644C7.30931 1.02294 6.17885 0.554688 5.00011 0.554688V0.554688ZM7.90289 3.50747L4.25289 7.15469L2.09733 4.99913C2.02366 4.92546 1.98227 4.82554 1.98227 4.72135C1.98227 4.61717 2.02366 4.51725 2.09733 4.44358C2.171 4.36991 2.27092 4.32852 2.37511 4.32852C2.4793 4.32852 2.57922 4.36991 2.65289 4.44358L4.25844 6.04913L7.35289 2.95747C7.38937 2.92099 7.43267 2.89205 7.48033 2.87231C7.528 2.85257 7.57908 2.84241 7.63067 2.84241C7.68225 2.84241 7.73334 2.85257 7.781 2.87231C7.82866 2.89205 7.87197 2.92099 7.90844 2.95747C7.94492 2.99394 7.97386 3.03725 7.9936 3.08491C8.01334 3.13257 8.0235 3.18365 8.0235 3.23524C8.0235 3.28683 8.01334 3.33791 7.9936 3.38558C7.97386 3.43324 7.94492 3.47654 7.90844 3.51302L7.90289 3.50747Z"
                    fill="#5CAB2B"
                  />
                </svg>

                Tagname longer than 1 characters
              </div>

              <div class="userconf" v-if="tagname.length < 2">
                <svg
                  width="15"
                  height="15"
                  viewBox="0 0 10 10"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M5.00008 0.416016C2.46883 0.416016 0.416748 2.4681 0.416748 4.99935C0.416748 7.5306 2.46883 9.58268 5.00008 9.58268C7.53133 9.58268 9.58342 7.5306 9.58342 4.99935C9.58342 2.4681 7.53133 0.416016 5.00008 0.416016ZM6.54466 4.04393C6.62056 3.96535 6.66256 3.8601 6.66161 3.75085C6.66066 3.6416 6.61684 3.53709 6.53959 3.45984C6.46234 3.38259 6.35783 3.33877 6.24858 3.33782C6.13933 3.33687 6.03408 3.37887 5.9555 3.45477L5.00008 4.41018L4.04466 3.45477C4.00623 3.41497 3.96025 3.38323 3.90942 3.36139C3.85858 3.33955 3.80391 3.32806 3.74858 3.32758C3.69326 3.3271 3.63839 3.33764 3.58718 3.35859C3.53598 3.37954 3.48946 3.41048 3.45033 3.4496C3.41121 3.48872 3.38027 3.53524 3.35932 3.58645C3.33837 3.63766 3.32783 3.69252 3.32831 3.74785C3.32879 3.80317 3.34029 3.85785 3.36212 3.90868C3.38396 3.95952 3.4157 4.0055 3.4555 4.04393L4.41092 4.99935L3.4555 5.95477C3.4157 5.9932 3.38396 6.03918 3.36212 6.09001C3.34029 6.14085 3.32879 6.19552 3.32831 6.25085C3.32783 6.30617 3.33837 6.36104 3.35932 6.41225C3.38027 6.46345 3.41121 6.50998 3.45033 6.5491C3.48946 6.58822 3.53598 6.61916 3.58718 6.64011C3.63839 6.66106 3.69326 6.6716 3.74858 6.67112C3.80391 6.67064 3.85858 6.65915 3.90942 6.63731C3.96025 6.61547 4.00623 6.58373 4.04466 6.54393L5.00008 5.58852L5.9555 6.54393C6.03408 6.61983 6.13933 6.66183 6.24858 6.66088C6.35783 6.65993 6.46234 6.61611 6.53959 6.53886C6.61684 6.4616 6.66066 6.3571 6.66161 6.24785C6.66256 6.1386 6.62056 6.03335 6.54466 5.95477L5.58925 4.99935L6.54466 4.04393Z"
                    fill="#F06363"
                  />
                </svg>
                Username longer than 2 characters
              </div>
            </div>
            <div
              type="submit"
              v-if="tagname.length > 1"
              class="skapaanv"
              @click="addtag()"
            >
              Lägg till
            </div>

            <div v-if="tagname.length < 2" class="skapaanvf">Lägg till</div>
            <div class="avbrtanv" @click="createtag = !createtag">Avbryt</div>
          </div>
        </div>
      </div>
    </transition>
  </div>
</template>
<style scoped>
.headercaps {
  display: flex;
  align-items: center;
  grid-gap: 20px;
}
.faker {
  background: rgb(148, 148, 148) !important;
  cursor: not-allowed !important;
  user-select: none;
}
.tagsbox {
  background: #f0f0f0;

  height: 200px;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  word-break: break-all;
  padding: 10px;
  grid-gap: 5px;
  grid-template-rows: repeat(3, 1fr);
  width: 250px;
  overflow-y: scroll;
  -webkit-user-select: none; /* Safari */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* IE10+/Edge */
  user-select: none; /* Standard */
}
.tags {
  height: 10px;
  border: 1px solid rgba(63, 63, 63, 0.377);
  padding: 10px;
  display: flex;
  align-content: center;
  text-align: center;
  align-items: center;
  border-radius: 20px;
  justify-content: space-between;
  box-shadow: inset 0px 0px 5px 1px rgb(255, 255, 255);
  -webkit-user-select: none; /* Safari */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* IE10+/Edge */
  user-select: none; /* Standard */
}
.tagtext {
  text-shadow: 0px 0px 2px #ffffff;

  color: rgb(46, 46, 46);
}
.remove {
  padding: 2px;
  background: #a5a5a557;
  border-radius: 100px;
  display: flex;
  justify-content: center;
  align-content: center;
  text-align: center;
  align-items: center;
  width: 30px;

  height: 30px;
  margin-right: -10px;
}
.adminopt {
  display: flex;
}
.kogwheel {
  cursor: pointer;

  animation-timing-function: ease-in-out;
}
@keyframes kogturn {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.kogwheel:hover {
  animation-timing-function: ease-in-out;
  animation: kogturn 2s linear infinite;
}
.userconf {
  font-size: 10px;
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
}
.slide-fade-enter-active {
  transition: all 0.6s ease;
}
.slide-fade-leave-active {
  transition: all 0.8s cubic-bezier(1, 0.5, 0.8, 1);
}
.slide-fade-enter, .slide-fade-leave-to
/* .slide-fade-leave-active below version 2.1.8  :startColor="'#6EF56D'"
                :stopColor="'#2A9EBE'"*/ {
  transform: translateY(-100%);
  opacity: 0;
}
#acctype {
  padding: 6px;
  width: 150px;
}
.avbrtanv {
  background: #808181;
  border-radius: 20px;
  padding: 5px;
  width: 70px;
  color: white;
  align-self: center;
  cursor: pointer;
  font-size: 13px;
}
.avbrtanv:hover {
  background: rgb(153, 75, 75);
}
.skapaanv {
  background: #3382df;
  border-radius: 20px;
  padding: 10px;
  width: 90px;
  color: white;
  align-self: center;
  cursor: pointer;
}
.skapaanvf {
  background: #464646;
  border-radius: 20px;
  padding: 10px;
  width: 90px;
  color: white;
  align-self: center;
  cursor: not-allowed;
}
.createusertitle {
  padding: 10px;
  background-color: #3382df;
  width: 250px;
  color: white;
  font-size: 18px;
  border-radius: 20px 20px 0px 0px;
}
.createuserinputs {
  height: 90%;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-evenly;
}
.createusernoclick {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0%;
  left: 0%;
  overflow: hidden;
  display: flex;
  justify-content: center;
}
.createusercaps {
  position: absolute;
  top: 20%;
  background: white;
  height: 480px;
  border-radius: 20px;
  box-shadow: 0px 5px 5px 1px rgba(88, 88, 88, 0.178);
}

.createuserbtn {
  margin: 20px;
  padding: 10px;
  height: 17px;
  background: #4790ff;
  color: white;
  border-radius: 10px;
  cursor: pointer;
  transition: 0.5s;
}
.remove:hover {
  cursor: pointer;
  background-color: #8888882f;
  color: rgb(131, 131, 131);
}
.createuserbtn:hover {
  transition: 0.5s;
  background: #006aae;
}
@media only screen and (max-width: 786px) {
  .createuserbtn {
    font-size: 12px;

    text-align: center;

    margin: 0px !important;
    margin-top: 20px !important;
    margin-left: 5px !important;
  }
}
.usnc {
  display: flex;
  justify-content: space-between;
}
.firsttd {
  display: flex;
  align-items: center;
  grid-gap: 5px;
}
.img {
  width: 30px;
  height: 30px;
  border-radius: 20px;
  object-fit: cover !important;
}
.shadow {
  height: 3px;
  background: linear-gradient(rgb(179, 179, 179), rgb(255, 255, 255));
}
h2 {
  text-align: left;
  padding-left: 20px;
}
.tbl-content {
}
h1 {
  background-color: #f0f0f0;
  margin: 0;
  padding: 10px;
}
tr:nth-child(odd) {
  background: linear-gradient(180deg, #a8a8a88a 0%, #f5f5f5 3.12%);
}
tr:nth-child(1) {
  background: #f5f5f5;
}
tr:nth-child(even) {
  background: linear-gradient(180deg, #a8a8a88a 0%, #f0f0f0 3.12%);
}
table {
  width: 100%;
  table-layout: fixed;
}
.tbl-header {
}

.tbl-content {
  max-height: 50%;

  overflow-x: auto;
  margin-top: 0px;
}
th {
  padding: 20px 15px;
  text-align: left;
  font-weight: 600;
  font-size: 14px;
  color: rgb(94, 94, 94);
  text-transform: uppercase;
  background-color: #ffffff !important;
}
td {
  padding: 15px;
  text-align: left;
  vertical-align: middle;
  font-weight: 600;
  font-size: 14px;
  color: rgb(112, 112, 112);
  border-bottom: solid 1px rgba(255, 255, 255, 0.1);
}
#UsersV2 {
  width: 100%;
  height: 100vh;
  background-color: #ffffff;
  overflow-y: scroll;
  overflow-x: hidden;
}
::-webkit-scrollbar {
  width: 6px;
}
::-webkit-scrollbar-track {
  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
}
::-webkit-scrollbar-thumb {
  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
}
@media only screen and (max-width: 1000px) {
  .createusercaps {
    position: absolute;
    top: 20%;
    left: 23%;
  }
}
@keyframes FadeIn {
  0% {
    opacity: 0;
    transform: perspective(400px) translateZ(200px);
  }
  10% {
    opacity: 0;
  }

  85% {
    box-shadow: 0px 0px 0px rgba(242, 242, 242, 0.28);
  }
  100% {
    transform: perspective(400px) translateZ(0px);
    box-shadow: 0px 6px 9px rgba(242, 242, 242, 0.28);
  }
}

.fe {
  animation: FadeIn 1s linear;
  animation-fill-mode: both;
}

.stats .fe:nth-child(1) {
  animation-delay: 0.5s;
}
.stats .fe:nth-child(2) {
  animation-delay: 1s;
}
.stats .fe:nth-child(3) {
  animation-delay: 1.5s;
}
.stats .fe:nth-child(4) {
  animation-delay: 2s;
}
.digitalstats {
  display: grid;
  grid-template-columns: auto auto auto;
  justify-content: center;
  grid-gap: 10px;
}
#chart {
  width: 100%;
}
.chart {
  width: 100%;
  background-color: #000000cc;

  float: right;
  color: white;
}
.gotit > h1 {
  background: none;
}
.infocapsule {
  width: 100%;
  height: 90%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
}
.close {
  float: right;
  padding: 20px;
}
#line-chart {
  width: 100vw;
}
.metrics {
  width: 100%;
  height: 100%;
  position: absolute;
}
video {
  width: 100%;
  height: 100%;
  position: fixed;
  object-fit: cover;
  z-index: 0;
  left: 0;
}
.fade-enter-active,
.fade-leave-active {
  transition: 0.5s;
}
.fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {
  opacity: 0;
}
.profileview {
  width: 100%;
  height: 100%;
  position: absolute;
  z-index: 1;

  left: 0%;
}
.readmore {
}
.readmorebtn {
  font-weight: 700;
  padding: 10px;
  border: none;
  background: #7387a4;
  border-radius: 20px;
}
.readmorebtn:hover {
  background: -webkit-linear-gradient(left, #3bf0a4, #38c6d3);
}
.readmorebtn:active {
  background: -webkit-linear-gradient(left, #113526, #113a3d);
  border: none;
}
#Your {
  width: 100%;
}
.Users {
  background-color: #006aae;
  color: white;
  width: 100%;
  height: 100vh;
  overflow-y: scroll;
  overflow-x: hidden;
  display: flex;
  flex-direction: column;
  align-items: center;
}
.s {
}
.Grid {
  width: 80vw;
  margin-top: 50px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  grid-gap: 50px;
  padding-bottom: 50px;
}
.imgin {
  width: 100px;
  height: 100px;
  border-radius: 50px;
  border: solid #38abe0;
  box-shadow: 0px 5px 10px 2px rgba(114, 114, 114, 0.507);
  margin-top: 5px;
  object-fit: cover !important;
}
.card {
  width: 300px;

  background: linear-gradient(180deg, #5f94a5 0%, #000000 100%);
  box-shadow: 0px 5px 5px 1px rgba(0, 253, 42, 0.322);
  border-radius: 40% 20px 20px 20px;
}
.name {
  margin-top: 5px;
  color: #6dff91;
}
.stats {
  display: grid;
  grid-template-columns: auto auto auto;
  justify-content: center;
  grid-gap: 10px;
}
.fe {
  width: 85px;
  height: 120px;
  background: linear-gradient(156.98deg, #585858 3.66%, #000000 97.3%);

  border-radius: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
}
.n > div {
  background: -webkit-linear-gradient(
    148.95deg,
    #63ab37 14.93%,
    rgba(43, 108, 117, 0.93) 89.41%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
.n {
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;

  background: linear-gradient(
    131.77deg,
    #000000 12.15%,
    rgba(55, 55, 55, 0.65) 56.17%,
    #3382df 87.64%
  );
  border-radius: 100px;
  width: 70px;
  height: 70px;

  font-size: 50px;
  font-weight: bolder;
  color: rgb(130, 255, 130);
  margin-top: 5px;
}
.d {
  font-size: 18px;
  font-weight: bold;
  color: #b7ff8a;
  margin-top: 10px;
}
.detail {
  margin-top: 50px;
  padding: 10px;
  background-color: green;
  box-shadow: 0px 3px 5px 1px rgba(255, 255, 255, 0.432);
}
.transform {
  -webkit-transition: all 2s ease;
  -moz-transition: all 2s ease;
  -o-transition: all 2s ease;
  -ms-transition: all 2s ease;
  transition: all 2s ease;
}

.transform-active {
  background-color: #45cee0;
  height: 200px;
  width: 200px;
}
</style>
<script>
import Linechart from "../components/Linechart.vue";
import $ from "jquery";
import Usermetrics from "../components/Usermetrics.vue";
import Addtime from "../components/Addtime.vue";

import VueFormulate from "@braid/vue-formulate";
import io from "socket.io-client";
import Vue from "vue";
Vue.use(VueFormulate);
export default {
  components: {
    Addtime,
    Usermetrics,
    Linechart,

    VueFormulate,
  },
  data() {
    return {
      showprofile: false,
      user: "",
      projects: "",
      logged: this.$store.state.someValue,
      arkivs: "",
      success: true,
      arr2: "",
      index: "",
      value2: "",
      datumchart: [],
      count: {},
      second: {},
      createuser: false,
      filteredArray: [],
      datacollection: null,
      loggedin: [],
      ename: "",
      eprofile: "",
      eactive: "",
      ecreated: "",
      ecompleted: "",
      newusername: "",
      newpassword: "",
      newtype: "",
      newemail: "",
      newname: "",
      confirmu: true,
      confirme: true,
      createtag: false,
      tagname: "",
      tagid: 0,
      tags: [],
    };
  },
  created() {
    const requestOptions = {
      method: "POST",

      headers: {
        "Content-Type": "application/json",
        Accept: "application/json",
      },

      body: JSON.stringify({ user: this.logged }),
    };
    const auth = {
      method: "POST",
      mode: "cors",
      headers: {
        "Content-Type": "application/json",
        Accept: "application/json",
      },

      body: JSON.stringify({ user: this.logged }),
    };
    fetch("https://mxtime.se:3000/loggedin", auth)
      .then((response) => response.json())
      .then((result) => {
        this.loggedin = result[0];

        if (result.length == 0) {
          location.replace("https//app.mxtime.se/#/");
        }
        if (result.length > 0) {
          fetch("https://mxtime.se:3000/workernav", requestOptions)
            .then((response) => response.json())
            .then((result) => {
              this.loggedin = result[0];
              console.log(this.loggedin);
              this.socketInstance.emit("loggedinfo", this.loggedin);
              if (this.loggedin.nanoid == undefined) {
                window.location.reload();
              }
              const searchnano = {
                method: "POST",

                headers: {
                  "Content-Type": "application/json",
                  Accept: "application/json",
                },

                body: JSON.stringify({ nanoid: this.loggedin.nanoid }),
              };
              fetch("https://mxtime.se:3000/getusers", searchnano)
                .then((response) => response.json())
                .then((result) => {
                  this.user = result;
                });

              fetch("https://mxtime.se:3000/myprojects", requestOptions)
                .then((response) => response.json())
                .then((result) => {
                  this.myprojects = result;
                });

              fetch("https://mxtime.se:3000/getarkiv", searchnano)
                .then((response) => response.json())
                .then((result) => {
                  this.arkivs = result;
                });
            });
        }
      });
    this.socketInstance = io("https://mxtime.se:3000/");

    this.socketInstance.on("tags", (tags) => {
      this.tags = tags;
      console.log(this.tags);
    });
    this.socketInstance.on("confirmationU", (confirmationuser) => {
      console.log(confirmationuser);
      if (confirmationuser !== "") {
        this.confirmu = true;
        console.log(this.confirmu, "username");
      }
    });
    this.socketInstance.on("confirmationE", (confirmationemail) => {
      console.log(confirmationemail);
      if (confirmationemail !== "") {
        this.confirme = true;
        console.log("hej", this.confirme, "email");
      }
      if (this.confirmu == true && this.confirme == true) {
        this.createuser = !this.createuser;
      }
    });
    this.socketInstance.on("updateusers", (updateusers) => {
      console.log(updateusers);
    });
  },
  methods: {
    View(id) {
      this.z = id;
      this.x = id;
      this.euser = this.user.filter((result) => result.id == this.x);
      console.log(this.euser);
      this.ename = this.euser[0].Name;
      this.eprofile = this.euser[0].Profile;
      this.eactive = this.euser[0].Active;
      this.ecreated = this.euser[0].Created;
      this.ecompleted = this.euser[0].Completion;

      this.chartdata = this.arkivs.filter(
        (arkiv) => arkiv.Author == this.euser[0].Name
      );
      console.log(this.chartdata);

      this.count = this.chartdata.map((item) => item.Datum);

      this.second = {};
      for (let i = 0; i < this.count.length; i++) {
        this.second[this.count[i]] = this.second[this.count[i]] + 1 || 1;
      }
      this.filteredArray = Object.keys(this.second).reduce((acc, cur) => {
        acc.push({ Datum: cur, result: this.second[cur] });
        return [...acc];
      }, []);

      this.index = this.chartdata
        .map((e) => e["Datum"])
        .map((e, i, final) => final.indexOf(e) === i && i)
        .filter((obj) => this.chartdata[obj])
        .map((e) => this.chartdata[e]);
    },
    createnewuser() {
      const accountinfo = {
        adminsID: this.loggedin.id,
        username: this.newusername,
        password: this.newpassword,
        name: this.newname,
        email: this.newemail,
        type: this.newtype,
        nanoid: this.loggedin.nanoid,
      };
      this.socketInstance.emit("accountinfo", accountinfo);
      window.location.reload();
    },
    addtag() {
      const taginfo = {
        tagname: this.tagname,
        nanoid: this.loggedin.nanoid,
        color: Math.floor(Math.random() * 16777215).toString(16),
      };
      console.log(taginfo);
      this.socketInstance.emit("addtag", taginfo);
    },
    deletetag(id) {
      const deletetaginfo = {
        tagid: id,
        nanoid: this.loggedin.nanoid,
      };
      this.socketInstance.emit("deletetag", deletetaginfo);
    },
  },
};
</script>
